{"version":3,"sources":["webpack:///./src/components/movieComment.vue?0627","webpack:///./src/components/movieComment.vue?ceb2","webpack:///./src/components/commentCard.vue?21ab","webpack:///src/components/commentCard.vue","webpack:///./src/components/commentCard.vue?7078","webpack:///./src/components/commentCard.vue","webpack:///src/components/movieComment.vue","webpack:///./src/components/movieComment.vue?ba2d","webpack:///./src/components/movieComment.vue","webpack:///./src/components/commentCard.vue?a0c0"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_movieComment_vue_vue_type_style_index_0_lang_less_rel_stylesheet_2Fless___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_movieComment_vue_vue_type_style_index_0_lang_less_rel_stylesheet_2Fless___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","_v","_s","title","ratingCount","attrs","separator","on","click","newRating","aria-current","hotRating","ratingsProp","ratings","loadMore","_e","staticRenderFns","commentCardvue_type_template_id_b6e17baa_render","_l","rating","index","body-style","padding","shadow","src","useravatar","to","username","cate","disabled","text-color","model","score","callback","$$v","$set","time","$event","ratingAction","me2rating","likecount","staticStyle","comment","commentCardvue_type_template_id_b6e17baa_staticRenderFns","commentCardvue_type_script_lang_js_","inheritAttrs","props","data","comments","watch","val","methods","typename","_this","url","id","params","URLSearchParams","append","$http","post","then","response","showMessage","message","catch","error","type","$message","showClose","components_commentCardvue_type_script_lang_js_","component","Object","componentNormalizer","commentCard","movieCommentvue_type_script_lang_js_","components","thisMovieId","movieId","ratingCate","nextPage","loading","a","b","fetchRating","mounted","arguments","length","undefined","page","curr_url","get","sort","count","concat","items","next","console","log","components_movieCommentvue_type_script_lang_js_","movieComment_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_commentCard_vue_vue_type_style_index_0_lang_less_rel_stylesheet_2Fless___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_commentCard_vue_vue_type_style_index_0_lang_less_rel_stylesheet_2Fless___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-66d754ac.27dc1253.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./movieComment.vue?vue&type=style&index=0&lang=less&rel=stylesheet%2Fless&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./movieComment.vue?vue&type=style&index=0&lang=less&rel=stylesheet%2Fless&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"movie-comment\"},[_c('p',{staticClass:\"movie-comment-title\"},[_vm._v(\"\\n    \"+_vm._s(_vm.title)+\" 的短评 · · · · ·\\n    \"),_c('small',{staticClass:\"rating-count\"},[_vm._v(\"(全部 \"+_vm._s(_vm.ratingCount)+\" 条)\")])]),_c('hr'),_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('a',{on:{\"click\":_vm.newRating}},[_vm._v(\"最新\")])]),_c('el-breadcrumb-item',{attrs:{\"aria-current\":\"page\"}},[_c('a',{on:{\"click\":_vm.hotRating}},[_vm._v(\"最热\")])])],1),_c('commentCard',{attrs:{\"ratingsProp\":_vm.ratings}}),_c('hr'),(_vm.nextPage)?_c('div',{staticClass:\"load-more\",on:{\"click\":_vm.loadMore}},[_vm._v(\"加载更多\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.comments),function(rating,index){return (_vm.comments)?_c('div',{staticClass:\"rating\"},[_c('hr'),_c('el-card',{attrs:{\"body-style\":{ padding: '0px' },\"shadow\":\"hover\"}},[_c('div',{staticClass:\"comment-head\"},[_c('a',[_c('img',{staticClass:\"image avatar\",attrs:{\"src\":rating.useravatar}})]),_c('router-link',{attrs:{\"to\":'/people/' + rating.username}},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(rating.username))])]),(rating.cate === 2)?_c('span',{staticClass:\"cate\"},[_vm._v(\"看过\")]):_vm._e(),(rating.cate === 1)?_c('span',{staticClass:\"cate\"},[_vm._v(\"在看\")]):_vm._e(),(rating.cate === 0)?_c('span',{staticClass:\"cate\"},[_vm._v(\"想看\")]):_vm._e(),_c('el-rate',{staticClass:\"rating-score\",attrs:{\"disabled\":\"\",\"text-color\":\"#ff9900\"},model:{value:(rating.score / 2),callback:function ($$v) {_vm.$set(rating, \"score / 2\", $$v)},expression:\"rating.score / 2\"}}),_c('span',{staticClass:\"time rating-time\"},[_vm._v(_vm._s(rating.time))]),_c('a',{staticClass:\"report\",on:{\"click\":function($event){return _vm.ratingAction(index, 'report')}}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"error_outline\")])]),(rating.me2rating === 'like')?_c('a',{staticClass:\"like like-status\",on:{\"click\":function($event){return _vm.ratingAction(index, 'unlike')}}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"favorite\")]),_c('span',{staticClass:\"like-count\"},[_vm._v(_vm._s(rating.likecount))])]):_vm._e(),(rating.me2rating === 'unlike')?_c('a',{staticClass:\"like unlike-status\",on:{\"click\":function($event){return _vm.ratingAction(index, 'like')}}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"favorite\")]),_c('span',{staticClass:\"like-count\"},[_vm._v(_vm._s(rating.likecount))])]):_vm._e()],1),_c('div',{staticStyle:{\"padding\":\"14px\"}},[_c('div',{staticClass:\"bottom clearfix\"},[_c('p',[_vm._v(\"\\n                   \"+_vm._s(rating.comment)+\"\\n          \")])])])])],1):_vm._e()}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"rating\" v-for=\"(rating, index) in comments\" v-if=\"comments\">\n      <hr />\n      <el-card :body-style=\"{ padding: '0px' }\" shadow=\"hover\">\n        <div class=\"comment-head\">\n          <a>\n            <img :src=\"rating.useravatar\" class=\"image avatar\" />\n          </a>\n          <router-link :to=\"'/people/' + rating.username\">\n            <span class=\"name\">{{ rating.username }}</span>\n          </router-link>\n          <span class=\"cate\" v-if=\"rating.cate === 2\">看过</span>\n          <span class=\"cate\" v-if=\"rating.cate === 1\">在看</span>\n          <span class=\"cate\" v-if=\"rating.cate === 0\">想看</span>\n          <el-rate\n            class=\"rating-score\"\n            v-model=\"rating.score / 2\"\n            disabled\n            text-color=\"#ff9900\"\n          ></el-rate>\n          <span class=\"time rating-time\">{{ rating.time }}</span>\n          <a class=\"report\" @click=\"ratingAction(index, 'report')\">\n            <i class=\"material-icons\">error_outline</i>\n          </a>\n          <a\n            class=\"like like-status\"\n            v-if=\"rating.me2rating === 'like'\"\n            @click=\"ratingAction(index, 'unlike')\"\n          >\n            <i class=\"material-icons\">favorite</i>\n            <span class=\"like-count\">{{ rating.likecount }}</span>\n          </a>\n          <a\n            class=\"like unlike-status\"\n            v-if=\"rating.me2rating === 'unlike'\"\n            @click=\"ratingAction(index, 'like')\"\n          >\n            <i class=\"material-icons\">favorite</i>\n            <span class=\"like-count\">{{ rating.likecount }}</span>\n          </a>\n        </div>\n        <div style=\"padding: 14px;\">\n          <div class=\"bottom clearfix\">\n            <p>\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ rating.comment }}\n            </p>\n          </div>\n        </div>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  inheritAttrs: false,\n  props: [\"ratingsProp\"],\n  data() {\n    return {\n      comments: []\n    };\n  },\n  watch: {\n    ratingsProp: function(val) {\n      this.comments = val;\n    }\n  },\n  methods: {\n    ratingAction(index, typename) {\n      var url = \"/rating/\" + this.comments[index].id;\n      var params = new URLSearchParams();\n      params.append(\"typename\", typename);\n      this.$http\n        .post(url, params)\n        .then(response => {\n          this.showMessage(response.data.message, \"success\");\n          if (typename !== \"report\") {\n            var comment = this.comments[index];\n            comment.me2rating = typename;\n\n            if (typename === \"like\") {\n              comment.likecount = comment.likecount + 1;\n              this.$set(this.comments, index, comment);\n            } else if (typename === \"unlike\") {\n              comment.likecount = comment.likecount - 1;\n              this.$set(this.comments, index, comment);\n            }\n          }\n        })\n        .catch(error => {\n          this.showMessage(error.response.data.message, \"error\");\n        });\n    },\n    showMessage(message, type) {\n      this.$message({\n        showClose: true,\n        message: message,\n        type: type\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" rel=\"stylesheet/less\">\n@import \"../../style/color\";\n.rating {\n  width: 700px;\n  .comment-head {\n    padding: 0;\n    margin-bottom: 0;\n    height: 30px;\n    .avatar {\n      left: 5px;\n      width: 30px;\n      height: 30px;\n      float: left;\n      position: relative;\n      top: 3px;\n    }\n    .name {\n      margin-left: 10px;\n      position: relative;\n      top: 2px;\n      font-size: 2ch;\n      float: left;\n      margin-right: 10px;\n    }\n    .cate {\n      float: left;\n      font-size: 1em;\n      top: 5px;\n      position: relative;\n    }\n    .rating-score {\n      float: left;\n      margin-left: 10px;\n      position: relative;\n      top: 7px;\n    }\n    .rating-time {\n      float: left;\n      margin-left: 10px;\n      position: relative;\n      top: 5px;\n    }\n    .like {\n      float: right;\n      position: relative;\n      top: 5px;\n      margin-right: 15px;\n      text-decoration: none;\n      .like-count {\n        margin-left: 5px;\n        top: -7px;\n        position: relative;\n        color: tomato;\n      }\n    }\n    .unlike-status {\n      color: rgb(136, 130, 157);\n    }\n    .like-status {\n      color: red;\n    }\n    .report {\n      float: right;\n      position: relative;\n      color: gray;\n      top: 5px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commentCard.vue?vue&type=template&id=b6e17baa&\"\nimport script from \"./commentCard.vue?vue&type=script&lang=js&\"\nexport * from \"./commentCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentCard.vue?vue&type=style&index=0&lang=less&rel=stylesheet%2Fless&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"movie-comment\" v-loading=\"loading\">\n    <p class=\"movie-comment-title\">\n      {{ title }} 的短评 · · · · ·\n      <small class=\"rating-count\">(全部 {{ ratingCount }} 条)</small>\n    </p>\n    <hr />\n    <el-breadcrumb separator=\"/\">\n      <el-breadcrumb-item><a @click=\"newRating\">最新</a></el-breadcrumb-item>\n      <el-breadcrumb-item aria-current=\"page\"\n        ><a @click=\"hotRating\">最热</a></el-breadcrumb-item\n      >\n    </el-breadcrumb>\n\n    <commentCard v-bind:ratingsProp=\"ratings\"></commentCard>\n\n    <hr />\n    <div class=\"load-more\" v-if=\"nextPage\" v-on:click=\"loadMore\">加载更多</div>\n  </div>\n</template>\n\n<script>\nimport commentCard from \"@/components/commentCard.vue\";\n\nexport default {\n  components: {\n    commentCard\n  },\n  props: [\"title\", \"movieId\"],\n  data() {\n    return {\n      thisMovieId: this.movieId,\n      score: 3.5,\n      ratings: [],\n      ratingCount: 0,\n      ratingCate: \"\",\n      nextPage: \"\",\n      loading: true\n    };\n  },\n  watch: {\n    movieId: function(a, b) {\n      this.thisMovieId = a;\n      this.fetchRating(\"hot\", 1);\n    }\n  },\n  mounted() {\n    this.fetchRating(\"hot\", 1);\n  },\n  methods: {\n    newRating() {\n      this.ratings = [];\n      this.fetchRating(\"new\", 1);\n    },\n    hotRating() {\n      this.ratings = [];\n      this.fetchRating(\"hot\", 1);\n    },\n    fetchRating(cate = \"\", page = -1, url = \"\") {\n      this.loading = true;\n      if (cate) {\n        this.ratingCate = cate;\n      } else {\n        cate = this.ratingCate;\n      }\n      if (this.thisMovieId) {\n        if (page > 0) {\n          var curr_url = \"/movie/\" + this.thisMovieId + \"/rating/all\";\n          url = curr_url;\n        }\n        this.$http\n          .get(url, {\n            params: {\n              sort: cate,\n              page: page\n            }\n          })\n          .then(response => {\n            this.ratingCount = response.data.count;\n            this.ratings = this.ratings.concat(response.data.items);\n            this.nextPage = response.data.next;\n            this.loading = false;\n          })\n          .catch(error => {\n            console.log(\"get ratings error.\");\n            this.loading = false;\n          });\n      }\n    },\n    showMessage(message, type) {\n      this.$message({\n        showClose: true,\n        message: message,\n        type: type\n      });\n    },\n    loadMore() {\n      this.fetchRating((url = this.nextPage));\n    }\n  }\n};\n</script>\n<style lang=\"less\" rel=\"stylesheet/less\">\n@import \"../../style/color\";\n.movie-comment {\n  float: left;\n  clear: both;\n  margin-top: 20px;\n  .load-more {\n    cursor: pointer;\n    width: 700px;\n    height: 30px;\n    line-height: 30px;\n    text-align: center;\n    background: #eee;\n    color: @doubanColor;\n  }\n  .movie-comment-title {\n    color: #007722;\n    font-size: 16px;\n    .rating-count {\n      color: rgb(43, 80, 226);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./movieComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./movieComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./movieComment.vue?vue&type=template&id=023d6afe&\"\nimport script from \"./movieComment.vue?vue&type=script&lang=js&\"\nexport * from \"./movieComment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./movieComment.vue?vue&type=style&index=0&lang=less&rel=stylesheet%2Fless&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentCard.vue?vue&type=style&index=0&lang=less&rel=stylesheet%2Fless&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./commentCard.vue?vue&type=style&index=0&lang=less&rel=stylesheet%2Fless&\""],"sourceRoot":""}